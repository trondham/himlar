---
profile::dns::ns::my_mgmt_addr:      "%{hiera('netcfg_mgmt_netpart')}.17"
profile::dns::ns::my_transport_addr: "%{hiera('netcfg_trp_netpart')}.17"

# Defined here instead of roles, as only resolver-01 needs this
profile::base::network::manage_dummy: true

network::interfaces_hash:
  'eth0':
    onboot:    'yes'
    mtu:       '1500'
    ipaddress: "%{hiera('netcfg_mgmt_netpart')}.17"
    netmask:   "%{hiera('netcfg_mgmt_netmask')}"
    gateway:   "%{hiera('netcfg_mgmt_gateway')}"
    peerdns:   'yes'
    dns1:      "%{hiera('netcfg_dns_server1')}"
    dns2:      "%{hiera('netcfg_dns_server2')}"
    domain:    "%{hiera('netcfg_dns_search')}"
    defroute:  'no'
  'eth1':
    onboot:    'yes'
    mtu:       '1500'
    ipaddress: "%{hiera('netcfg_trp_netpart')}.17"
    netmask:   "%{hiera('netcfg_trp_netmask')}"
    gateway:   "%{hiera('netcfg_trp_gateway')}"
    srcaddr:   "%{hiera('netcfg_public_netpart')}.252"
    ipv6init:  'yes'
    ipv6addr:  "%{hiera('netcfg_trp_netpart6')}::17/%{hiera('netcfg_trp_netmask6')}"
    defroute:  'yes'
  'dummy0':
    ipaddress: "%{hiera('netcfg_public_netpart')}.252"
    netmask:   '255.255.255.255'
    ipv6init:  'yes'
    ipv6addr:  "%{hiera('netcfg_public_netpart6')}::252/128"
    defroute:  'no'

profile::base::network::routes:
  'eth1':
    'ipaddress': [ '::', ]
    'netmask':   [ '0', ]
    'gateway':   [ 'fd32::1', ]
    'source':    [ "%{hiera('netcfg_public_netpart6')}::252", ]
    'table':     [ 'main', ]
    'family':    [ '6', ]
